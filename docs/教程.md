# Tutorial

We can deploy multiple containers using Docker. Let's start with the minimum required container setup.

In the `./docker-compose.yml` file, you can find the configuration for the `opensearch` service.

Next, navigate to the `blog/src/main/resources/application.yml` file. Locate the `search.mode` setting and configure it to either `opensearch` or `mysql`. For a minimal setup, set it to `mysql`.

By default, these configurations are pre-defined for you.

for macos install java and maven

```bash
brew install openjdk@17
java -version
echo 'export PATH="/opt/homebrew/opt/openjdk@17/bin:$PATH"' >> ~/.zshrc
echo 'export JAVA_HOME="/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home"' >> ~/.zshrc
echo 'export CPPFLAGS="-I/opt/homebrew/opt/openjdk@17/include"' >> ~/.zshrc
source ~/.zshrc
brew install maven
mvn -v

```

## introduction

### environment

- mysql
- redis
- search
  - opensearch
  - elasticsearch
- nginx
- zendesk/maxwell
- rabbitMQ
- maven
- java-openjdk
- vscode or vim idea
- docker

### install docker

you can find how to install docker from the internet.

### docker run

To begin, execute the script. This will pull the required Docker images. Please allow a few minutes for the process to complete.

If your platform is `linux` or `macos`, use the following commands:

```shell
echo "try to close all containers..."
docker compose down
echo 'creating containers for mysql redis rabbitmq opensearch...'
docker compose up -d mysql redis rabbitmq opensearch
docker logs mysql # switch to one select: mysql redis rabbitmq opensearch
docker compose up -d maxwell
echo 'it's okay, let's use maven and java'
cd blog && mvn clean install package && cd ..
nohup java -jar blog/target/app.jar >/dev/null 2>&1 &
```

### access website

we maybe wait for ten mintures to access `http://localhost:8080` or `http://localhost:8080/doc.html`